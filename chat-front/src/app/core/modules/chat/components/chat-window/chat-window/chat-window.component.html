<div class="top-section">
    <p>Welcome to chattt - {{userName}} !!!</p>
    <button mat-flat-button (click)="logout()" style="align-self: center;">Logout</button>
</div>

<div class="messages-container" id="messages-container">
    @for(messageItem of messages; track messageItem) {
        <div class="each-message-line" [ngClass]="{'my-message': messageItem.senderId === userId}">
            <div class="each-message-container">

                <span>
                    <span style="color: green">{{messageItem.senderId === userId ? 'You': messageItem.senderName}}</span>  
                    <small style="padding-left: 8px">{{messageItem.sentAt | date: 'dd-MMM-yy: HH:MM'}}</small>
                </span> 
                <div class="each-message-text">{{messageItem.message}}</div>
                
            </div>
        </div>
        
    }
</div>
<div class="message-input-container">

    <mat-form-field class="example-form-field" appearance="outline">
        <input matInput type="text" [(ngModel)]="newMessage"  (keyup.enter)="sendMessage(newMessage)" placeholder="Type something..." >
        
            <button matSuffix mat-icon-button aria-label="Clear" (click)="sendMessage(newMessage)" color="primary" [disabled]="!newMessage">
                <mat-icon>send</mat-icon>
            </button>
        
    </mat-form-field>

</div>


